#!/bin/sh
print () {
  import -silent -window root ~/Pictures/screenshots/"`date +"%Y-%m-%d_%H_%M_%S"`".png
  dunstify "Screenshoot Entire Screen" "Saved to ~/Pictures/screenshots" \
  -i $XDG_CONFIG_HOME/assets/icons/display.jpg

  paplay /usr/share/sounds/freedesktop/stereo/camera-shutter.oga
}

print_window () {
  import -silent -window "$(xdotool getwindowfocus -f)" ~/Pictures/screenshots/"`date +"%Y-%m-%d_%H_%M_%S"`".png
  dunstify "Screenshoot Selected Window" "Saved to ~/Pictures/screenshots" \
  -i $XDG_CONFIG_HOME/assets/icons/display.jpg

  paplay /usr/share/sounds/freedesktop/stereo/camera-shutter.oga
}

print_area () {
  import -silent ~/Pictures/screenshots/"`date +"%Y-%m-%d_%H_%M_%S"`".png
  dunstify "Screenshoot Selected Area" "Saved to ~/Pictures/screenshots" \

  paplay /usr/share/sounds/freedesktop/stereo/camera-shutter.oga
}

copy () {
  import -silent -window root png:- | xclip -selection c -t image/png
  dunstify "Screenshoot Entire Screen" "Copied to clipboard" \
  -i $XDG_CONFIG_HOME/assets/icons/display.jpg

  paplay /usr/share/sounds/freedesktop/stereo/camera-shutter.oga
}

copy_window () {
  import -silent -window "$(xdotool getwindowfocus -f)" png:- | xclip -selection c -t image/png
  dunstify "Screenshoot Selected Window" "Copied to clipboard" \
  -i $XDG_CONFIG_HOME/assets/icons/display.jpg

  paplay /usr/share/sounds/freedesktop/stereo/camera-shutter.oga
}

copy_area () {
  import -silent png:- | xclip -selection c -t image/png
  dunstify "Screenshoot Selecetd Area" "Copied to clipboard" \
  -i $XDG_CONFIG_HOME/assets/icons/display.jpg

  paplay /usr/share/sounds/freedesktop/stereo/camera-shutter.oga
}

while [ ! $# -eq 0 ]
do
	case "$1" in
		--print)
        print
			exit
			;;
		--print-window)
        print_window
			exit
			;;
		--print-area)
        print_area
			exit
			;;
		--copy)
        copy
			exit
			;;
		--copy-window)
        copy_window
			exit
			;;
		--copy-area)
      copy_area
			exit
			;;
    -h|--help)
      echo "screenshot [--print, --print-area, --print-window, --copy, --copy-area, --copy-window]"
	esac
	shift
done
